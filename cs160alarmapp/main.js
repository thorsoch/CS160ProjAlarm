// Put Skins herelet buttonSkin = new Skin({ fill : "#c4c4c4" });let darkGraySkin = new Skin({ fill: "#202020" });let downSkin = new Skin({ fill : "white" });let greenSkin = new Skin({ fill : "#62C370" });let redSkin = new Skin({ fill : "#cc3363" });// Put Styles herelet titleStyle = new Style({ font: "25px", color: "black" });let buttonStyle = new Style({font: '18px', color: 'black'});let buttonBoldStyle = new Style({font: '22px', style: "bold", color: 'black'});// Put Images herevar addImage = new Texture("assets/add.png")var addSkin = new Skin({  width: 35, height: 35, // The width and height are the pixel size of the image  texture: addImage,  fill: "white",  aspect: "stretch"})var settingsImage = new Texture("assets/wheel.png")var settingsSkin = new Skin({  width: 35, height: 35, // The width and height are the pixel size of the image  texture: settingsImage,  fill: "white",  aspect: "stretch"})var backImage = new Texture("assets/back.png")var backSkin = new Skin({  width: 35, height: 35, // The width and height are the pixel size of the image  texture: backImage,  fill: "white",  aspect: "stretch"})var cancelImage = new Texture("assets/cancel.jpg")var cancelSkin = new Skin({  width: 35, height: 35, // The width and height are the pixel size of the image  texture: cancelImage,  fill: "white",  aspect: "stretch"})var on = new Texture("assets/on.png")var onSkin = new Skin({  width: 500, height: 300, // The width and height are the pixel size of the image  texture: on,  fill: "white",  aspect: "stretch"})var off = new Texture("assets/off.png")var offSkin = new Skin({  width: 500, height: 300, // The width and height are the pixel size of the image  texture: off,  fill: "white",  aspect: "stretch"})// Pinsimport Pins from "pins";let remotePins;let currentScreen;let worked = 0;class AppBehavior extends Behavior {    onLaunch(application) {        let discoveryInstance = Pins.discover(            connectionDesc => {                if (connectionDesc.name == "pins-share-led") {                    trace("Connecting to remote pins\n");                    remotePins = Pins.connect(connectionDesc);                }                remotePins.invoke("/move/read", function(result) {                  worked = 1;                  if (result == 1) {                  	currentScreen = new mainScreen3({});                  } else {                    currentScreen = new mainScreen({});                  }                  application.add(currentScreen); 	            });            },             connectionDesc => {                if (connectionDesc.name == "pins-share-led") {                    trace("Disconnected from remote pins\n");                    remotePins = undefined;                }            }        );        if (worked == 0) {          currentScreen = new mainScreen3({});          application.add(currentScreen);         }    }}application.behavior = new AppBehavior();// Useful button Container Templatevar button = Container.template($ => ({  active: true, left: $.left, right: $.right, top: $.top, bottom: $.bottom,   width: $.width, height: $.height,  height: $.height,  skin: $.skin,  behavior: Behavior({    onTouchBegan: function(content){      content.skin = buttonSkin;    },    onTouchEnded: function(content){      content.skin = $.skin;      if ($.nextScreen) {        application.remove(currentScreen);  // Remove the old screen from the application      	currentScreen = new $.nextScreen({});  // Make the new screen      	application.add(currentScreen);  // Add the new screen to the application      }    },  }),  contents: [    Label($, { top: 0, bottom: 0, left: 0, right: 0, style: buttonStyle, string: $.string })  ]}));let onOffToggleSwitch = SwitchButton.template($ => ({    height: 50, width: 100,    Behavior: class extends SwitchButtonBehavior {        onValueChanged(container){            trace("Value is: " + this.data.value + "\n");        }    }}));var onOff = [0, 0, 0, 0];var deviceSwitch = Container.template($ => ({  active: true, left: $.left, right: $.right, top: $.top, bottom: $.bottom,   width: $.width, height: $.height,  height: $.height,  behavior: Behavior({    onCreate: function(content){      if (onOff[$.deviceNumber] == 0) {        content.skin = offSkin      } else {        content.skin = onSkin      }    },    onTouchEnded: function(content){      if (onOff[$.deviceNumber] == 0) {        onOff[$.deviceNumber] = 1        content.skin = onSkin      } else {        onOff[$.deviceNumber] = 0        content.skin = offSkin      }    },  }),}))var tones = ["Ok", "Testing", "Rock"];var toneChoice = 0;var mainScreen = Container.template($ => ({  left: 0, right: 0, top: 0, bottom: 0,  skin: downSkin,  contents: [    new Container({         top: 0, height: 50, left: 0, right: 0, skin: downSkin,         contents: [          new Line({            left: 0, right: 0, top: 0, bottom: 0,            contents:[              new Picture({width:50, height:50, url: "assets/wheel.png"}),              Label($, {top: 0, bottom: 0, left: 0, right: 0, style: titleStyle, string: "Alert Me" }),              new button({top: 0, bottom: 0, right: 0, width:50, nextScreen: addDeviceScreenLoading, skin: addSkin, string: ""}),            ]          })        ]    }),    new Picture({width:300, height:100, top:50, url: "assets/map.png"}),    new Container({    	top: 150, height: 50, left: 0, right: 0, skin: downSkin,         contents: [          new Line({            left: 0, right: 0, top: 0, bottom: 0,            contents:[              new Picture({width:82, height:66, url: "assets/macbook.png"}),              new button({top: 0, bottom: 0, left: 0, right: 0, string: "MacBook", nextScreen: macBookScreen}),              new deviceSwitch({top: 8, bottom: 8, right: 0, width:50, deviceNumber: 0})            ]          })        ]    }),    new Container({    	top: 200, height: 50, left: 0, right: 0, skin: downSkin,         contents: [          new Line({            left: 0, right: 0, top: 0, bottom: 0,            contents:[              new Picture({width:50, height:50, url: "assets/ipad.jpg"}),              new button({top: 0, bottom: 0, left: 0, right: 0, string: "iPad"}),              new deviceSwitch({top: 8, bottom: 8, right: 0, width:50, deviceNumber: 1})            ]          })        ]    }),    new Container({    	top: 250, height: 50, left: 0, right: 0, skin: downSkin,         contents: [          new Line({            left: 0, right: 0, top: 0, bottom: 0,            contents:[              new Picture({width:50, height:50, url: "assets/iphone.png"}),              new button({top: 0, bottom: 0, left: 0, right: 0, string: "TimBuk2"}),              new deviceSwitch({top: 8, bottom: 8, right: 0, width:50, deviceNumber: 2}),            ]          })        ]    })  ]}));var macBookScreen = Container.template($ => ({  left: 0, right: 0, top: 0, bottom: 0,  skin: downSkin,  contents: [    new Container({         top: 0, height: 50, left: 0, right: 0, skin: downSkin,         contents: [          new Line({            left: 0, right: 0, top: 0, bottom: 0,            contents:[              new button({top: 0, bottom: 0, right: 0, width:50, nextScreen: mainScreen, skin: backSkin, string: ""}),              Label($, {top: 0, bottom: 0, left: 0, right: 0, style: titleStyle, string: "Macbook" }),            //  new button({top: 0, bottom: 0, right: 0, width:50, nextScreen: mainScreen, skin: addSkin, string: ""}),            ]          })        ]    }),    new Picture({width:300, height:100, top:50, url: "assets/macbook.png"}),    new Container({      top: 150, height: 50, left: 0, right: 0, skin: downSkin,         contents: [          Label($, {top: 0, bottom: 0, left: 20, style: buttonStyle, string: "Alarm" }),          new deviceSwitch({top: 8, bottom: 8, right: 20, width:50, deviceNumber: 0})        ]    }),    new Container({      top: 200, height: 40, left: 0, right: 0, skin: downSkin,         contents: [            Label($, {top: 0, bottom: 0, left: 20, style: buttonStyle, string: "Tone" }),            new button({top: 8, bottom: 8, right: 20, width: 50, deviceNumber: 1, string: tones[toneChoice]})        ]    }),    new Container({      top: 240, height: 40, width: 300, left: 0, right: 0, skin: downSkin,         contents: [              new Picture({width:50, height:30, top: 3, bottom: 3, left: 0, url: "assets/wheel.png"}),              new Picture({width:50, height:30, top: 3, bottom: 3, right: 0, url: "assets/wheel.png"})        ]    }),    new Container({      top: 280, height: 40, left: 0, right: 0, skin: downSkin,         contents: [              Label($, {top: 0, left:0, right:0, bottom: 0, style: buttonStyle, string: "play alarm to test", skin:buttonSkin}),        ]    }),  ]}));var addDeviceScreenLoading = Container.template($ => ({  left: 0, right: 0, top: 0, bottom: 0, active: true,  skin: downSkin,  contents: [    new Container({         top: 0, height: 50, left: 0, right: 0, skin: downSkin,         contents: [            new button({top: 5, bottom: 0, left: 5, width:50, nextScreen: mainScreen, skin: cancelSkin, string: ""}),            Label($, {top: 5, bottom: 0, style: titleStyle, left:90, string: "Syncing..." }),        ]    }),    new Picture({width:300, height:100, top:125, url: "assets/syncing.png"}),  ],  behavior: Behavior({    onTouchEnded: function(content){      application.remove(currentScreen);  // Remove the old screen from the application      currentScreen = new addDeviceScreen({});  // Make the new screen      application.add(currentScreen);  // Add the new screen to the application    },  }),}));var addDeviceScreen = Container.template($ => ({  left: 0, right: 0, top: 0, bottom: 0,  skin: downSkin,  contents: [    new Container({         top: 0, height: 50, left: 0, right: 0, skin: downSkin,         contents: [            new button({top: 0, bottom: 0, left: 5, width:50, nextScreen: mainScreen, skin: backSkin, string: ""}),            Label($, {top: 0, bottom: 0, style: titleStyle, string: "Add Device" }),        ]    }),    Label($, {top: 80, style: buttonStyle, string: "Name Device" }),    new Picture({width:350, height:125, url: "assets/ipad.jpg"}),    new button({top: 250, width: 100, height: 50, nextScreen: mainScreen2, skin: downSkin, style: titleStyle,string: "Done!"})  ]}));var mainScreen2 = Container.template($ => ({  left: 0, right: 0, top: 0, bottom: 0,  skin: downSkin,  contents: [    new Container({         top: 0, height: 50, left: 0, right: 0, skin: downSkin,         contents: [          new Line({            left: 0, right: 0, top: 0, bottom: 0,            contents:[              new Picture({width:50, height:50, url: "assets/wheel.png"}),              Label($, {top: 0, bottom: 0, left: 0, right: 0, style: titleStyle, string: "Alert Me" }),              new button({top: 0, bottom: 0, right: 0, width:50, nextScreen: addDeviceScreenLoading, skin: addSkin, string: ""}),            ]          })        ]    }),    new Picture({width:300, height:100, top:50, url: "assets/wheel.png"}),    new Container({      top: 150, height: 50, left: 0, right: 0, skin: downSkin,         contents: [          new Line({            left: 0, right: 0, top: 0, bottom: 0,            contents:[              new Picture({width:50, height:50, url: "assets/wheel.png"}),              new button({top: 0, bottom: 0, left: 0, right: 0, string: "Kindle"}),              new deviceSwitch({top: 8, bottom: 8, right: 0, width:50, deviceNumber: 3})            ]          })        ]    }),    new Container({      top: 200, height: 50, left: 0, right: 0, skin: downSkin,         contents: [          new Line({            left: 0, right: 0, top: 0, bottom: 0,            contents:[              new Picture({width:50, height:50, url: "assets/macbook.png"}),              new button({top: 0, bottom: 0, left: 0, right: 0, string: "Mac Book", nextScreen: macBookScreen}),              new deviceSwitch({top: 8, bottom: 8, right: 0, width:50, deviceNumber: 0})            ]          })        ]    }),    new Container({      top: 250, height: 50, left: 0, right: 0, skin: downSkin,         contents: [          new Line({            left: 0, right: 0, top: 0, bottom: 0,            contents:[              new Picture({width:50, height:50, url: "assets/ipad.jpg"}),              new button({top: 0, bottom: 0, left: 0, right: 0, string: "iPad"}),              new deviceSwitch({top: 8, bottom: 8, right: 0, width:50, deviceNumber: 1})            ]          })        ]    }),    new Container({      top: 300, height: 50, left: 0, right: 0, skin: downSkin,         contents: [          new Line({            left: 0, right: 0, top: 0, bottom: 0,            contents:[              new Picture({width:50, height:50, url: "assets/iphone.png"}),              new button({top: 0, bottom: 0, left: 0, right: 0, string: "TimBuk2"}),              new deviceSwitch({top: 8, bottom: 8, right: 0, width:50, deviceNumber: 2}),            ]          })        ]    })  ]}));//landing screenvar mainScreen3 = Container.template($ => ({  left: 0, right: 0, top: 0, bottom: 0,  skin: downSkin,  contents: [    new Container({         top: 0, height: 50, left: 0, right: 0, skin: downSkin,         contents: [          new Line({            left: 0, right: 0, top: 0, bottom: 0,            contents:[              new Picture({width:47, height:47, url: "assets/wheel.png"}),              Label($, {top: 0, bottom: 0, left: 0, right: 0, style: titleStyle, string: "Alert Me" }),              new button({top: 0, bottom: 0, right: 0, width:50, nextScreen: addDeviceScreenLoading, skin: addSkin, string: ""}),            ]          })        ]    }),    new Picture({width:300, height:100, top:50, url: "assets/map.png"}), //map goes here    new Container({      top: 150, height: 50, left: 0, right: 0, skin: downSkin,         contents: [          new Line({            left: 0, right: 0, top: 0, bottom: 0,            contents:[              new Picture({width:50, height:50, url: "assets/macbook.png"}),              new button({top: 0, bottom: 0, left: 0, right: 0, string: "Macbook", nextScreen: macBookAlertScreen}),              new deviceSwitch({top: 8, bottom: 8, right: 0, width:50, deviceNumber: 0})            ]          })        ]    }),    new Container({      top: 200, height: 50, left: 0, right: 0, skin: downSkin,         contents: [          new Line({            left: 0, right: 0, top: 0, bottom: 0,            contents:[              new Picture({width:50, height:50, url: "assets/ipad.jpg"}),              new button({top: 0, bottom: 0, left: 0, right: 0, string: "iPad"}),              new deviceSwitch({top: 8, bottom: 8, right: 0, width:50, deviceNumber: 1})            ]          })        ]    }),    new Container({      top: 250, height: 50, left: 0, right: 0, skin: downSkin,         contents: [          new Line({            left: 0, right: 0, top: 0, bottom: 0,            contents:[              new Picture({width:50, height:50, url: "assets/iphone.png"}),              new button({top: 0, bottom: 0, left: 0, right: 0, string: "TimBuk2"}),              new deviceSwitch({top: 8, bottom: 8, right: 0, width:50, deviceNumber: 2}),            ]          })        ]    })  ]}));var macBookAlertScreen = Container.template($ => ({  left: 0, right: 0, top: 0, bottom: 0,  skin: downSkin,  contents: [    new Container({         top: 0, height: 50, left: 0, right: 0, skin: downSkin,         contents: [          new Line({            left: 0, right: 0, top: 0, bottom: 0,            contents:[              new button({top: 0, bottom: 0, right: 0, width:50, nextScreen: mainScreen, skin: backSkin, string: ""}),              Label($, {top: 0, bottom: 0, left: 0, right: 0, style: titleStyle, string: "Macbook" }),        //      new button({top: 0, bottom: 0, right: 0, width:50, nextScreen: mainScreen, skin: addSkin, string: ""}),            ]          })        ]    }),    new Picture({width:300, height:100, top:80, url: "assets/macbook.png"}),    new Container({      top: 180, height: 50, left: 0, right: 0, skin: downSkin,         contents: [          Label($, {top: 0, bottom: 0, style: buttonBoldStyle, string: "Macbook Alarm Triggered!" }),        ]    }),    new Container({      top: 230, height: 40, left: 0, right: 0, skin: downSkin,         contents: [            new button({top: 5, bottom: 10, left: 20, width: 100, nextScreen: mainScreen, string: "Deactivate", skin:greenSkin,}),            new button({top: 5, bottom: 10, right: 20, left: 130, width: 100, nextScreen: mapScreen, string: "911", skin:redSkin,})        ]    }),  ]}));var mapScreen = Container.template($ => ({  left: 0, right: 0, top: 0, bottom: 0,  skin: downSkin,  contents: [    new Container({         top: 0, height: 50, left: 0, right: 0, skin: downSkin,         contents: [          new Line({            left: 0, right: 0, top: 0, bottom: 0,            contents:[              new button({top: 0, bottom: 0, right: 0, width:50, nextScreen: mainScreen, skin: backSkin, string: ""}),              Label($, {top: 0, bottom: 0, left: 70, style: titleStyle, string: "Macbook" }),            ]          })        ]    }),    new Picture({width:300, height:300, top:0, url: "assets/mapLong.png"}),  ]}));